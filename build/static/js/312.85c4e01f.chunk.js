"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[312],{6479:function(e,s,t){var n=t(184);s.Z=function(e){var s=e.src,t=e.alt,a=e.className;return(0,n.jsx)("img",{src:s,alt:t,className:a||"h-full w-full object-cover object-center"})}},6480:function(e,s,t){var n=t(3148),a=t(5336),r=t(2073),c=t(184);s.Z=function(e){var s=e.handlePage,t=e.page,l=e.totalProduct,i=void 0===l?55:l,d=function(){s(Math.round(i/r.UO)>=t?t+1:t)},o=function(){s(t>1?t-1:1)};return(0,c.jsx)(c.Fragment,{children:i>10&&(0,c.jsxs)("div",{className:"flex items-center justify-between border-t border-gray-200 px-4 py-3 sm:px-6 mt-6",children:[(0,c.jsxs)("div",{className:"flex flex-1 justify-between sm:hidden",children:[(0,c.jsx)("p",{onClick:o,className:"".concat(r.PZ.commonClass," ").concat(r.PZ.commonBTNClass),children:"Previous"}),(0,c.jsx)("p",{onClick:d,className:"".concat(r.PZ.commonClass," ").concat(r.PZ.commonBTNClass," ml-3"),children:"Next"})]}),(0,c.jsxs)("div",{className:"hidden sm:flex sm:flex-1 sm:items-start sm:justify-between sm:flex-col sm:space-y-3",children:[(0,c.jsx)("div",{className:"mr-2",children:(0,c.jsxs)("p",{className:"text-sm text-gray-700",children:["Showing"," ",(0,c.jsx)("span",{className:"font-medium",children:(t-1)*r.UO+1})," ","to"," ",(0,c.jsx)("span",{className:"font-medium",children:t*r.UO>i?i:t*r.UO})," ","of ",(0,c.jsx)("span",{className:"font-medium",children:i})," results"]})}),(0,c.jsx)("div",{children:(0,c.jsxs)("nav",{className:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination",children:[(0,c.jsxs)("p",{onClick:o,className:"".concat(r.PZ.commonClass,"  ").concat(r.PZ.commonSreenBTNClass," rounded-l-md "),children:[(0,c.jsx)("span",{className:"sr-only",children:"Previous"}),(0,c.jsx)(n.Z,{className:"h-5 w-5","aria-hidden":"true"})]}),Array.from({length:Math.ceil(i/r.UO)}).map((function(e,n){return(0,c.jsx)("p",{onClick:function(){s(n+1)},"aria-current":"page",className:"".concat(t===n+1?"".concat(r.PZ.activeClass," ").concat(r.PZ.commonClass):"".concat(r.PZ.hoverClass," ").concat(r.PZ.commonClass)," cursor-pointer"),children:n+1},n)})),(0,c.jsxs)("p",{onClick:d,className:"".concat(r.PZ.commonClass,"  ").concat(r.PZ.commonSreenBTNClass," rounded-r-md"),children:[(0,c.jsx)("span",{className:"sr-only",children:"Next"}),(0,c.jsx)(a.Z,{className:"h-5 w-5","aria-hidden":"true"})]})]})})]})]})})}},7312:function(e,s,t){t.r(s),t.d(s,{default:function(){return C}});var n=t(9439),a=t(2791),r=t(9434),c=t(2073),l=t(7678),i=t(3012),d=t(4431),o=t(184),m=function(e){var s=e.handleSort,t=e.sort,n=function(e){return t._sort===e&&("asc"===(null===t||void 0===t?void 0:t._order)?(0,o.jsx)(i.Z,{className:"w-4 h-4 inline-block ml-1 mb-1"}):(0,o.jsx)(d.Z,{className:"w-4 h-4 inline-block ml-1 mb-1"}))},a=function(e){s({sort:e,order:"asc"===t._order?"desc":"asc"})};return(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{className:"bg-gray-200 text-gray-600 uppercase text-sm leading-normal",children:[(0,o.jsxs)("th",{className:"py-3 px-6 text-left cursor-pointer",onClick:function(){a("createdAt")},children:["Order# ",n("createdAt")]}),(0,o.jsx)("th",{className:"py-3 px-6 text-left",children:"Items"}),(0,o.jsxs)("th",{className:"py-3 px-6 text-center cursor-pointer",onClick:function(){a("totalPrice")},children:["Total amount ",n("totalPrice")]}),(0,o.jsx)("th",{className:"py-3 px-6 text-center",children:"Delivery Address"}),(0,o.jsx)("th",{className:"py-3 px-6 text-center",children:"Delivery Status"}),(0,o.jsx)("th",{className:"py-3 px-6 text-center",children:"Payment Status"}),(0,o.jsx)("th",{className:"py-3 px-6 text-center",children:"Actions"})]})})},x=t(1413),u=t(486),h=t(4642),f=t(7892),p=t.n(f),j=t(130),v=t.n(j),N=t(6479),g=t(6639);p().extend(v());var y=function(e){var s=e.orders,t=e.handleShow,n=e.handleEdit,a=e.editableOrderId,l=(0,r.I0)(),i=function(e){switch(e){case"Pending":default:return"bg-purple-200 text-purple-600";case"Dispatch":return"bg-yellow-200 text-yellow-600";case"Delivered":return"bg-green-200 text-green-600";case"Cancel":return"bg-red-200 text-red-600";case"Receive":return"bg-green-200 text--600"}};return(0,o.jsx)("tbody",{className:"text-gray-600 text-sm font-light",children:s&&(null===s||void 0===s?void 0:s.map((function(e,s){var r,d;return(0,o.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-gray-100 ".concat((d=s,d%2!==0&&"bg-gray-50")," "),children:[(0,o.jsx)("td",{className:"py-3 px-6 text-left whitespace-nowrap",children:(0,o.jsx)("div",{className:"flex items-center",children:(0,o.jsx)("span",{className:"font-medium",children:p()(e.createdAt).fromNow()})})}),(0,o.jsx)("td",{className:"py-3 px-6 text-left",children:null===e||void 0===e||null===(r=e.items)||void 0===r?void 0:r.map((function(e,s){var t=e.item;return(0,o.jsxs)("div",{className:"flex items-center my-2",children:[(0,o.jsx)("div",{className:"mr-2",children:(0,o.jsx)(N.Z,{className:"w-16 h-16 rounded-full",src:"https://myshop-fx41.onrender.com/api/"+t.thumbnail,alt:t.title})}),(0,o.jsxs)("span",{children:[t.title," - #",e.quantity," - $",null===t||void 0===t?void 0:t.discountPrice]})]},s)}))}),(0,o.jsx)("td",{className:"py-3 px-6 text-center",children:(0,o.jsxs)("div",{className:"flex items-center justify-center",children:["$ ",e.totalPrice," By - ",e.paymentMethod]})}),(0,o.jsx)("td",{className:"py-3 px-6 text-start",children:(0,o.jsxs)("div",{className:"flex items-center justify-center flex-col",children:[e.address.name," ",(0,o.jsx)("br",{}),e.address.street,",",(0,o.jsx)("br",{}),e.address.city,", ",(0,o.jsx)("br",{}),e.address.state,", ",e.address.pinCode,","," ",e.address.country," ",(0,o.jsx)("br",{})]})}),(0,o.jsx)("td",{className:"py-3 px-6 text-center",children:a===e.id?(0,o.jsxs)("select",{id:"status",name:"status",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:max-w-xs sm:text-sm sm:leading-6",onChange:function(s){return function(e,s){var t=(0,x.Z)({},s);t.status=e.target.value,"Delivered"===e.target.value&&(t.paymentStatus="Receive"),l((0,g.Rn)(t)),n(-1)}(s,e)},children:[(0,o.jsx)("option",{value:"pending",children:e.status}),null===c.iM||void 0===c.iM?void 0:c.iM.map((function(e,s){return(0,o.jsx)("option",{value:e.code,children:e.name},s)}))]}):(0,o.jsx)("span",{className:"".concat(i(e.status)," py-1 px-3 rounded-full text-xs"),children:e.status})}),(0,o.jsx)("td",{className:"py-3 px-6 text-center",children:(0,o.jsx)("div",{className:"flex items-center",children:(0,o.jsx)("span",{className:"".concat(i(e.paymentStatus)," py-1 px-3 rounded-full text-xs"),children:e.paymentStatus})})}),(0,o.jsx)("td",{className:"py-3 px-6 text-center",children:(0,o.jsxs)("div",{className:"flex item-center justify-center",children:[(0,o.jsx)("div",{className:"w-4 mx-2 transform hover:text-yellow-500 hover:scale-110 cursor-pointer",children:(0,o.jsx)(u.Z,{className:"w-6 h-6",onClick:function(){t(e.id)}})}),(0,o.jsx)("div",{className:"w-4 mx-2 transform hover:text-green-500 hover:scale-110 cursor-pointer",children:(0,o.jsx)(h.Z,{className:"w-6 h-6",onClick:function(){n(e.id)}})})]})})]},s)})))})},b=t(6480),w=t(6447),Z=t(6439),C=function(){var e=(0,r.v9)(g.N_),s=e.orders,t=e.totalOrders,i=e.message,d=e.status,x=(0,r.I0)(),u=(0,a.useState)(1),h=(0,n.Z)(u,2),f=h[0],p=h[1],j=(0,a.useState)({_sort:"id",_order:"asc"}),v=(0,n.Z)(j,2),N=v[0],C=v[1],P=(0,a.useState)(-1),k=(0,n.Z)(P,2),S=k[0],O=k[1];return(0,a.useEffect)((function(){var e={_page:f,_limit:c.UO};x((0,g.ls)({pagination:e,sort:N}))}),[x,f,N]),(0,a.useEffect)((function(){setTimeout((function(){x((0,g.c4)())}),4e3)}),[null===i||void 0===i?void 0:i.message,x]),(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(l.Z,{children:[(0,o.jsx)(w.Z,{heading:"Manage Orders"}),(0,o.jsx)("p",{className:"text-red-600 my-3 font-bold text-2xl capitalize",children:null===i||void 0===i?void 0:i.message}),"loading"!==d?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"overflow-x-auto",children:(0,o.jsx)("div",{className:"flex items-center justify-center font-sans overflow-x",children:(0,o.jsx)("div",{className:"w-full",children:(0,o.jsx)("div",{className:"bg-white shadow-md rounded my-6 mx-5",children:(0,o.jsxs)("table",{className:"min-w-max w-full table-auto",children:[(0,o.jsx)(m,{handleSort:function(e){var s={_sort:e.sort,_order:e.order};C(s)},sort:N}),(0,o.jsx)(y,{orders:s,handleEdit:function(e){O(e)},handleShow:function(e){},editableOrderId:S})]})})})})}),(0,o.jsx)(b.Z,{handlePage:function(e){p(e)},page:f,totalProduct:t})]}):(0,o.jsx)(Z.Z,{})]})})}}}]);
//# sourceMappingURL=312.85c4e01f.chunk.js.map